<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Hospital Bed </title>
    <link type="text/css" rel="stylesheet" href="style.css" />
    <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-analytics.js"></script>  
    <script src="java.js">  </script>     
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo"><img src="image/SchoolLogo.png" width="80px" height="80px"></div>
            <div class="title"><h3><b>GIƯỜNG BỆNH THÔNG MINH</b></h3></div>
            <div class="clock">
                <div class="time"><br></div>
                <div class="date"></div>
                <script>setInterval(updateTime, 100);</script>
                <button id="Giuong_benh" class="button" onclick="function_Giuongbenh()()"><b>Giuong_benh</b></button>
            </div>
            
        </div>
        <div class="content">
            <div class="cell">
                <h1 style="text-align: center;">Thân nhiệt:<br><span id="nhietdo">0</span> &#186C </h1>
                <div class="img" style="text-align: center;">
                    <img src="image/temperature_2.png" width="100px" height="100px" />
                    <script src="java.js">  </script>
                </div>
            </div>
            <div class="cell">
                <h1 style="text-align: center;">SpO2:<br><span id = "oxi">0</span>&#37</h1>
                <div class="img" style="text-align: center;">
                    <img src="image/SpO2.png" width="100px" height="100px" />
                </div>
            </div>
            <div class="cell">
                <h1 style="text-align: center;">Nhịp tim:<br><span id = "nhiptim">0</span></h1>
                <div class="img" style="text-align: center;">
                    <img src="image/heartbeat1.png" width="100px" height="100px" />
                </div>
            </div>
            <div class="cell">
                <h1 style="text-align: center;">Độ Nâng Giường<br><span id="donang">0</span></h1>
                <div class="img" style="text-align: center;">
                    <img id="motor1" src="image/donang.png" width="100px" height="100px" />
                </div>
                <button id="upButton" class="button" onclick="function_Up()">Up</button>
                <button id="downButton" class="button" onclick="function_Down()">Down</button>
            </div>
            
            <div class="cell">
                <h1 style="text-align: center;">Bệnh nhân cử động<br><span id="move">0</span></h1>
                <div class="img" style="text-align: center;">
                    <img id="lamp" src="image/patien.png" width="100px" height="100px" />
                </div>
            </div>
            <div class="cell">
                <h1 style="text-align: center;">Camera<br></span></h1>
                <div class="img" style="text-align: center;">
                  <a href="http://192.168.0.2/800x600.mjpeg"><img src="image/camera.png" width="100px" height="100px" /></a>
                </div>
            </div>
            <script src="java.js">  </script>
            <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-app.js"></script>
            <script src="https://www.gstatic.com/firebasejs/8.2.10/firebase-database.js"></script>
        </div> 
        <div class="footer">
            <p>Trương Cao Nam Khánh - Lê Minh Dự - Copyright by &#10084SV_20161VMVT1_SPKT&#10084</p>
        </div> 
    </div>
    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyA8qcjVLc9llRDkZI2iAAbEXQbUeQgmFks",
            authDomain: "kltn-9e25e.firebaseapp.com",
            databaseURL: "https://kltn-9e25e-default-rtdb.firebaseio.com",
            projectId: "kltn-9e25e",
            storageBucket: "kltn-9e25e.appspot.com",
            messagingSenderId: "572354037284",
            appId: "1:572354037284:web:420c9525af57b89779fab1",
            measurementId: "G-ES7NKTBVLQ"
          };
          
          
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
    </script>
    <script>
        //functions
// Initialize Firebase database references
const dbRef1 = firebase.database().ref('Giuong_benh/Nhietdo');
const dbRef2 = firebase.database().ref('Giuong_benh/Oxi');
const dbRef3 = firebase.database().ref('Giuong_benh/Nhiptim');
const dbRef4 = firebase.database().ref('thietbi1/donang');
const dbRef5 = firebase.database().ref('thietbi2/move');

// Function to update the UI from Firebase data
function function_Giuongbenh() {
    dbRef1.on('value', snap => document.getElementById('nhietdo').innerText = snap.val());
    dbRef2.on('value', snap => document.getElementById('oxi').innerText = snap.val());
    dbRef3.on('value', snap => document.getElementById('nhiptim').innerText = snap.val());
    dbRef4.on('value', snap => document.getElementById('donang').innerText = snap.val());
    dbRef5.on('value', snap => document.getElementById('move').innerText = snap.val());
}  
    </script>
</body>
</html>
